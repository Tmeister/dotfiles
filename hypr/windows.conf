# Window rules for specific applications

# Move Slack to workspace 4 (Samsung monitor)
windowrule = workspace 4, class:^(Slack)$
windowrule = workspace 4, class:^(slack)$

# Move Discord to workspace 4 (Samsung monitor)
windowrule = workspace 4, class:^(discord)$
windowrule = workspace 4, class:^(Discord)$

# You can add rules for apps to open on the mini monitor (workspaces 6-10)
# Example: windowrule = workspace 7, class:^(spotify)$

# Float utility and dialog windows
# File dialogs (save/open)
windowrulev2 = float, title:^(Open File)(.*)$
windowrulev2 = float, title:^(Save File)(.*)$
windowrulev2 = float, title:^(Save As)(.*)$
windowrulev2 = float, title:^(Choose Files)(.*)$
windowrulev2 = float, title:^(Select Folder)(.*)$

# 1Password
windowrulev2 = float, class:^(1Password)$
windowrulev2 = float, title:^(1Password)(.*)$

# Settings/preferences windows
windowrulev2 = float, title:^(Preferences)(.*)$
windowrulev2 = float, title:^(Settings)(.*)$
windowrulev2 = float, title:^(Configuration)(.*)$
windowrulev2 = float, title:^(Options)(.*)$

# Common dialog types
windowrulev2 = float, class:^(dialog)$
windowrulev2 = float, class:^(Dialog)$
windowrulev2 = float, class:^(popup)$
windowrulev2 = float, class:^(Popup)$

# Browser dialogs and utility windows
windowrulev2 = float, title:^(Extension: )(.*)$
windowrulev2 = float, title:^(DevTools)(.*)$
windowrulev2 = float, title:^(Developer Tools)(.*)$

# System utility windows
windowrulev2 = float, class:^(pavucontrol)$
windowrulev2 = float, class:^(blueman-manager)$
windowrulev2 = float, class:^(nm-applet)$
windowrulev2 = float, class:^(nm-connection-editor)$

# Application-specific utility windows
windowrulev2 = float, class:^(firefox)$,title:^(Library)(.*)$
windowrulev2 = float, class:^(chromium)$,title:^(Task Manager)(.*)$
windowrulev2 = float, class:^(code)$,title:^(Quick Open)(.*)$

# Android Studio / JetBrains IDE rules
# Fix for tooltips and sidebar menus being unclickable
windowrulev2 = noinitialfocus, class:^(jetbrains-)(.*)$, title:^(win)(.*)$
windowrulev2 = nofocus, class:^(jetbrains-)(.*)$, title:^(win)(.*)$

# Fix for broken tab dragging
windowrulev2 = center, class:^(jetbrains-)(.*)$, title:^( )$
windowrulev2 = stayfocused, class:^(jetbrains-)(.*)$, title:^( )$
windowrulev2 = noborder, class:^(jetbrains-)(.*)$, title:^( )$

# Android Studio specific (actual class is jetbrains-studio)
windowrulev2 = immediate, class:^(jetbrains-studio)$
windowrulev2 = noshadow, class:^(jetbrains-studio)$
windowrulev2 = noblur, class:^(jetbrains-studio)$
windowrulev2 = nomaxsize, class:^(jetbrains-studio)$

# Fix for floating dialogs
windowrulev2 = center, class:^(jetbrains-)(.*)$, title:^(splash)$
windowrulev2 = center, class:^(jetbrains-)(.*)$, floating:1

# Window decoration settings
general {
    col.active_border = rgba(c6d0f560) rgba(89b4fa40) 45deg  # Much softer gradient with more transparency
    border_size = 2
}

decoration {
    rounding = 4  # 4px border radius
    
    # Background blur for transparent windows
    blur {
        enabled = true
        size = 16              # Subtle 2px blur
        passes = 1            # Single pass for performance
        new_optimizations = true
        xray = false          # Don't blur behind fully transparent parts
    }
}
