#
# Omarchy Override - Window Rules and Styling
# Custom window behaviors, workspace assignments, and visual styling
# Managed by dotfiles - changes here are preserved during omarchy updates
#

# ============================================================================
# VICINAE LAUNCHER - Layer Rules
# ============================================================================

layerrule = blur, vicinae
layerrule = ignorealpha 0, vicinae
layerrule = noanim, vicinae

# ============================================================================
# WORKSPACE ASSIGNMENTS
# ============================================================================

# Communication apps â†’ Workspace 4 (Samsung monitor)
windowrule = workspace 4, class:^(Slack)$
windowrule = workspace 4, class:^(slack)$
windowrule = workspace 4, class:^(discord)$
windowrule = workspace 4, class:^(Discord)$

# Add more workspace assignments as needed
# Example: windowrule = workspace 7, class:^(spotify)$

# ============================================================================
# FILE DIALOG RULES
# ============================================================================

windowrulev2 = float, title:^(Open File)(.*)$
windowrulev2 = float, title:^(Save File)(.*)$
windowrulev2 = float, title:^(Save As)(.*)$
windowrulev2 = float, title:^(Choose Files)(.*)$
windowrulev2 = float, title:^(Select Folder)(.*)$

# ============================================================================
# APPLICATION-SPECIFIC FLOAT RULES
# ============================================================================

# 1Password
windowrulev2 = float, class:^(1Password)$
windowrulev2 = float, title:^(1Password)(.*)$

# Settings/Preferences dialogs
windowrulev2 = float, title:^(Preferences)(.*)$
windowrulev2 = float, title:^(Settings)(.*)$
windowrulev2 = float, title:^(Configuration)(.*)$
windowrulev2 = float, title:^(Options)(.*)$

# Generic dialogs
windowrulev2 = float, class:^(dialog)$
windowrulev2 = float, class:^(Dialog)$
windowrulev2 = float, class:^(popup)$
windowrulev2 = float, class:^(Popup)$

# Developer tools
windowrulev2 = float, title:^(Extension: )(.*)$
windowrulev2 = float, title:^(DevTools)(.*)$
windowrulev2 = float, title:^(Developer Tools)(.*)$

# System utilities
windowrulev2 = float, class:^(pavucontrol)$
windowrulev2 = float, class:^(blueman-manager)$
windowrulev2 = float, class:^(nm-applet)$
windowrulev2 = float, class:^(nm-connection-editor)$

# Browser-specific
windowrulev2 = float, class:^(firefox)$,title:^(Library)(.*)$
windowrulev2 = float, class:^(chromium)$,title:^(Task Manager)(.*)$
windowrulev2 = float, class:^(code)$,title:^(Quick Open)(.*)$

# ============================================================================
# JETBRAINS / ANDROID STUDIO FIXES
# ============================================================================

# Fix for "win" prefixed helper windows (tooltips, autocomplete, etc.)
windowrulev2 = noinitialfocus, class:^(jetbrains-)(.*)$, title:^(win)(.*)$
windowrulev2 = nofocus, class:^(jetbrains-)(.*)$, title:^(win)(.*)$

# Fix for tab dragging (empty title window)
windowrulev2 = center, class:^(jetbrains-)(.*)$, title:^( )$
windowrulev2 = stayfocused, class:^(jetbrains-)(.*)$, title:^( )$
windowrulev2 = noborder, class:^(jetbrains-)(.*)$, title:^( )$

# Android Studio specific optimizations
windowrulev2 = immediate, class:^(jetbrains-studio)$
windowrulev2 = noshadow, class:^(jetbrains-studio)$
windowrulev2 = noblur, class:^(jetbrains-studio)$
windowrulev2 = nomaxsize, class:^(jetbrains-studio)$

# JetBrains splash screen and floating windows
windowrulev2 = center, class:^(jetbrains-)(.*)$, title:^(splash)$
windowrulev2 = center, class:^(jetbrains-)(.*)$, floating:1

# ============================================================================
# CUSTOM STYLING - Border and Decoration
# ============================================================================

general {
    # Subtle white border for active windows (10% opacity)
    col.active_border = rgba(ffffff1a)
    border_size = 1
}

decoration {
    # Border radius for rounded corners
    rounding = 8

    # Background blur for transparent windows
    blur {
        enabled = true
        size = 6
        passes = 1
    }
}
